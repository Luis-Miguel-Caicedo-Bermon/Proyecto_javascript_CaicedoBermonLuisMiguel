var info = [
    {
        "grupos": [
            {
                "ruta": "nodeJS",
                "modulos": {
                    "fundamentos de programacion": [
                        "introduccion a la algoritmia",
                        "PSeint",
                        "Python"
                    ],
                    "programacion web": [
                        "HTML",
                        "CSS",
                        "booststrap"
                    ],
                    "programacion formal": "C#",
                    "bases de datos": [
                        "MongoDB",
                        "Mysql"
                    ],
                    "backend": [
                        "nodeJS",
                        "Spring Boot"
                    ]
                },
                "nombres": "t1",
                "fecha de inicio": "20-01-2024",
                "fecha de finalizacion": "20-11-2024",
                "salon de entrenamiento": "aula1",
                "grupo": [
                    {
                        "id": "1",
                        "nombre": "yurley",
                        "apellido": "botello",
                        "edad": "17",
                        "direccion": "10-call 3",
                        "acudiente": "ana",
                        "telefono": {
                            "celular": 321467891,
                            "fijo": 6782
                        },
                        "estado": "cursando",
                        "riesgo": "bajo",
                        "modulos": {}
                    },
                    {
                        "id": "2",
                        "nombre": "luis",
                        "apellido": "caicedo",
                        "edad": "19",
                        "direccion": "13-call 6",
                        "acudiente": "luis",
                        "telefono": {
                            "celular": 3124567894,
                            "fijo": 889063
                        },
                        "estado": "cursando",
                        "riesgo": "bajo",
                        "modulos": {}
                    }
                ]
            },
            {
                "ruta": "java",
                "modulos": {
                    "fundamentos de programacion": [
                        "introduccion a la algoritmia",
                        "PSeint",
                        "Python"
                    ],
                    "programacion web": [
                        "HTML",
                        "CSS",
                        "booststrap"
                    ],
                    "programacion formal": "java",
                    "bases de datos": [
                        "PostGresql",
                        "Mysql"
                    ],
                    "backend": [
                        "Spring Boot",
                        "Expres"
                    ]
                },
                "nombres": "t2",
                "fecha de inicio": "10-02-2024",
                "fecha de finalizacion": "10-11-2024",
                "salon de entrenamiento": "aula2",
                "grupo": [
                    {
                        "id": "3",
                        "nombre": "pablo",
                        "apellido": "contreras",
                        "edad": "23",
                        "direccion": "10-call4",
                        "acudiente": "pedro",
                        "telefono": {
                            "celular": 312467832,
                            "fijo": 6778
                        },
                        "estado": "cursando",
                        "riesgo": "bajo",
                        "modulos": {}
                    },
                    {
                        "id": "4",
                        "nombre": "maria",
                        "apellido": "sandoval",
                        "edad": "2",
                        "direccion": "11-call6",
                        "acudiente": "maria",
                        "telefono": {
                            "celular": 316783426,
                            "fijo": 90876
                        },
                        "estado": "cursando",
                        "riesgo": "bajo",
                        "modulos": {}
                    },
                    {
                        "id": "234",
                        "nombre": "ZULLY",
                        "apellido": "ortiz",
                        "edad": "18",
                        "direccion": "Diocesano",
                        "acudiente": "Fabiola ",
                        "telefono": {
                            "celular": 31264846,
                            "fijo": 12364
                        },
                        "estado": "cursando",
                        "riesgo": "bajo",
                        "modulos": {}
                    }
                ]
            },
            {
                "ruta": "NetCore",
                "modulos": {
                    "fundamentos de programacion": [
                        "introduccion a la algoritmia",
                        "PSeint",
                        "Python"
                    ],
                    "programacion web": [
                        "HTML",
                        "CSS",
                        "booststrap"
                    ],
                    "programacion formal": "JavaScript",
                    "bases de datos": [
                        "PostGresql",
                        "Mysql"
                    ],
                    "backend": [
                        "NetCore",
                        "Expres"
                    ]
                },
                "nombres": "t3",
                "fecha de inicio": "01-01-2024",
                "fecha de finalizacion": "14-12-2024",
                "salon de entrenamiento": "aula3",
                "grupo": [
                    {
                        "id": "5",
                        "nombre": "camilo",
                        "apellido": "suarez",
                        "edad": "18",
                        "direccion": "14-call7",
                        "acudiente": "camilo",
                        "telefono": {
                            "celular": 3214890,
                            "fijo": 4321
                        },
                        "estado": "cursando",
                        "riesgo": "bajo",
                        "modulos": {
                            "modulo1": "aprobado",
                            "modulo2": "aprobado"
                        }
                    },
                    {
                        "id": "6",
                        "nombre": "sofia",
                        "apellido": "suarez",
                        "edad": "19",
                        "direccion": "1-call6",
                        "acudiente": "sofia",
                        "telefono": {
                            "celular": 322478999,
                            "fijo": 67843
                        },
                        "estado": "cursando",
                        "riesgo": "alto",
                        "modulos": {
                            "modulo4": "aprobado",
                            "modulo3": "aprobado",
                            "modulo2": "desaprobado",
                            "modulo5": "desaprobado",
                            "modulo1": "desaprobado"
                        }
                    },
                    {
                        "id": "78",
                        "nombre": "luz",
                        "apellido": "perez",
                        "edad": "18",
                        "direccion": "20",
                        "acudiente": "luz",
                        "telefono": {
                            "celular": 1244354,
                            "fijo": 765752
                        },
                        "estado": "cursando",
                        "riesgo": "",
                        "modulos": {}
                    }
                ]
            }
        ],
        "trainers": [
            {
                "id": 1,
                "nombre": "pedro",
                "apellido": "caceres",
                "Telefono": 3212231223,
                "user": "pedro",
                "contrase\u00f1a": "p123",
                "edad": "20",
                "ruta": []
            },
            {
                "id": 2,
                "nombre": "michael",
                "apellido": " rodriguez",
                "Telefono": 3212256733,
                "user": "michael",
                "contrase\u00f1a": "m123",
                "edad": "27",
                "ruta": []
            },
            {
                "id": 3,
                "nombre": "orbin",
                "apellido": "contreras",
                "Telefono": 3212245623,
                "user": "orbin",
                "contrase\u00f1a": "o123",
                "edad": "30",
                "ruta": []
            }
        ],
        "coordinador": [
            {
                "id": 123,
                "nombre": "stiven",
                "apellido": " carvajal",
                "edad": "23",
                "sede": "tibu"
            }
        ],
        "ingreso": [
            {
                "id": "11",
                "nombre": "jesus",
                "apellido": "bustamante",
                "edad": "17",
                "direccion": "23-cal13",
                "acudiente": "ingrid",
                "telefono": {
                    "celular": 324167823,
                    "fijo": 33462
                },
                "estado": "progreso de ingreso",
                "riesgo": "",
                "modulos": {}
            }
        ],
        "Registro_de_Entrada": [
            {
                "id": "234",
                "fecha_entrada": "2024-08-15 16:50:39",
                "actividades_realizadas": "una tarea",
                "estado": "Inactiva"
            }
        ]
    }
]

function menu(){//menu principal
    console.log("");
    console.log(":::::::::BIENBENIDO A NUESTRA PLATAFORMA::::::::\n"+
                "1 MODULO DE COORDINACION ACADEMICA\n"+
                "2 MODULO DE TRAINER\n"+
                "3 MODULO DE REPORTE\n"+
                "4 REGISTRAR ENTRADA\n"+
                "5 SALIR\n");
}
function menucoordinador(){//submenu principal del coordinador
    console.log("::::::::::MENÚ::::::::::\n"+
                "1 listar estudiantes\n"+
                "2 ingresar nuevos campers\n"+
                "3 modulo de matriculas\n"+
                "4 crear rutas academicas con los modulos\n"+
                "5 asignar rutas de entrenamiento a los traniers\n"+
                "6 notas de modulos\n"+
                "7 consultar campers con riesgo alto\n"+
                "8 actualizar datos de campers\n"+
                "9 volver al menu principal\n"+
                ":::::::::::::::::::::::::\n")
}
function menumodiftrainer(){//submenu de trainer para actualizaciones de datos
    console.log(":::::::::: MENÚ DE DATOS ::::::::::\n"+
                "1 Nombre\n"+
                "2 Apellido\n"+
                "3 Telefono\n"+
                "4 User\n"+
                "5 Contraseña\n"+
                "6 Edad\n"+
                "7 Finalizar\n"+
                ":::::::::::::::::::::::::::::::::::\n")
}
function menutrainer(){//submenu principal del trainer
    console.log("::::::::::::::MENÚ:::::::::::::\n"+
                "1 mostrar horarios y ruta\n"+
                "2 actualizar datos\n"+
                "3 salir")
}
function menureportes(){//submenu para  el modulo de reporte 
    console.log("::::::::::MENÚ::::::::::\n"+
                "1 listar campers inscritos\n"+
                "2 listar los campers que aprobaron el examen principal\n"+
                "3 listar todos los entrenadores\n"+
                "4 listar campers de bajo rendimiento\n"+
                "5 listar campers y trainers que tienen ruta de entrenamiento\n"+
                "6 mostrar cuantos campers perdieron y aprobaron cada uno de los modulos teniendo en cuenta la ruta de entrenamiento y el entrenador encargado\n"+
                "7 volver al menu principal")
}
function menumodificaciones(){//submenu de modificaciones de datos de coordinador
    console.log(":::::::::MENÚ MODIFICACIONES:::::::::::\n"+
                "1 modificar nombre\n"+
                "2 modificar apellido \n"+
                "3 modificar edad \n"+
                "4 modificar direccion\n"+
                "5 modificar acudiente\n"+
                "6 modificar numero de celular\n"+
                "7 modificar numero fijo\n"+
                "8 finalizar\n"+
                ":::::::::::::::::::::::::::::::::::::\n");
}
function notasmodulos(){//submenu del coordinador para la asignacion de notas en cada modulo
    console.log("------------MODULOS------------");
    console.log("1 fundamentos de programacion");
    console.log("2 programacion web");
    console.log("3 programacion formal");
    console.log("4 bases de datos");
    console.log("5 backend");
    console.log("6 finalizar");
}

var bool=true;
while (bool==true){
    menu()
    var opc=prompt("ingrese su opcion por favor: ");
    if (opc==1){
        console.log("");
        console.log("MODULO DE COORDINACION ACADEMICA");
        console.log("");
        var ver=true;
        while (ver==true){
            menucoordinador();
            var opc1=prompt("ingrese su opcion por favor: ");
            if (opc1==1){
                for (const i of info[0]["grupos"]){
                    console.log("----------------------");
                    console.log(i["nombres"]);
                    var cont = 0;
                }
                let punch=true
                while (punch==true){
                    let cell = 0;
                    var gru = prompt("que grupo quieres listar");
                    for (const i of info[0]["grupos"]){
                        if (i["nombres"]==gru){
                            cell=1;
                            punch=false;
                        }
                    }
                    if (cell==0){
                        console.log("escoje un grupo de los que se mostraron (escribelo igual)");
                    }
                }
                for (const i of info[0]["grupos"]){
                    if (i["nombres"]==gru){
                        for (const z of i["grupo"]){
                            cont+=1
                            console.log(" ")
                            console.log("==================== CAMPER # ",cont,"==============================");
                            console.log("id: ",z["id"]);
                            console.log("nombre: ", z["nombre"]);
                            console.log("apellido: ", z["apellido"]);
                            console.log("edad: ", z["edad"]);
                            console.log("direccion: ", z["direccion"]);
                            console.log("acudiente: ", z["acudiente"]);
                            console.log("telefono: ", z["telefono"]);
                            console.log("estado: ", z["estado"]);
                            console.log("riesgo: ", z["riesgo"]);
                            console.log("=========================================================");
                            console.log("");
                        }
                    }
                }
            }
            else if (opc1==2){
                bucle=true;
                while (bucle==true){
                    console.log("");
                    console.log(":::::::::AÑADIR NUEVO CAMPER:::::::::");
                    let old = true;
                    while (old==true){
                        let contador = 0;
                        var id = prompt("ingrese la id: ");//le pide al cooordinador ingresar una id 
                        for (const i of info[0]["grupos"]){//con un for nos posicionamos en grupos
                            for (const z of i["grupo"]){//con el siguiente for en la opcion grupo que guarda a los campers
                                if (z["id"]==id){//si la anterior id ingresada ya se encuentra le imprimira lo siguiente
                                    console.log("este id ya existe, prueba con otro");
                                    contador = 1//si el contador anterior pasa a 1 le imprimira esto y le dara la opcion de ingresar nuevamente
                                }
                            }
                        }
                        if (contador==0){
                            old=false;
                        }
                    }
                    //le pedira al coordinador todo los datos requeridoa para la agregación de un nuevo camper
                    let nombre = prompt("ingrese el nombre: ");
                    let apellido = prompt("ingrese el apellido: ");
                    let edad = prompt("ingrese la edad: ");
                    let direccion = prompt("ingrese la direccion: ");
                    let acudiente = prompt("ingrese el nombre del acudiente:  ");
                    let celular=prompt("ingrese el numero:  ");
                    let fijo = prompt("ingrese numero fijo:  ");
                    info[0]["ingreso"].push({"id":id,"nombre":nombre,"apellido":apellido,"edad":edad, "direccion":direccion, "acudiente":acudiente, "telefono": {"celular":celular, "fijo":fijo},"estado":"progreso de ingreso", "riesgo":"", "modulos":{}});
                    console.log("se ha creado con exito!!");
                    let si = prompt("quieres agregar otro camper(si)\n"+
                                    "presiona enter para volver al menú\n");
                    if (si!="si"){
                        bucle=false
                    }
                }
            }
            else if (opc1==3){
                way=true;
                while (way==true){
                    console.log("estos son los estudiantes que estan en estado de ingreso");
                    for (const i of info[0]["ingreso"]){
                        if (i["estado"]=="progreso de ingreso"){
                            console.log("=========================================================");
                            console.log("id:  ",i["id"]);
                            console.log("nombre:  ",i["nombre"]);
                            console.log("apellido:  ",i["apellido"]);
                            console.log("estado:  ",i["estado"]);
                            console.log("=========================================================");
                            console.log("");
                        }
                    }
                    hola=true;
                    while (hola==true) {
                        let co = 0;
                        var pedir = prompt("ingresa el id del estudiante al que le quieres asignar notas")
                        for (const i of info[0]["ingreso"]){
                            if (pedir==i["id"]){
                                co=1
                                hola=false
                            }
                        }
                        if (co==0){
                            console.log("ingresa un id de los que se muestran");
                            
                        }
                    }
                    for (const i of info[0]["ingreso"]){
                        if (i["id"]==pedir){
                            var archivo=i;
                            console.log("ingresa las notas");
                            let booleanito=true;
                            while (booleanito==true){
                                var nota1 = prompt("nota de la prueba teorica:  ")
                                if (nota1>=0 && nota1<=100){
                                    booleanito=false;
                                }
                                else {
                                    console.log("ingresa una nota entre 0 y 100");
                                }
                            }
                            let booleanito2=true;
                            while (booleanito2==true) {
                                var nota2=prompt("nota de la prueba practica:  ")
                                if (nota2>=0 && nota2<=100){
                                    booleanito2=false;
                                }
                                else {
                                    console.log("ingresa una nota entre 0 y 100");
                                }
                            }
                            nota1*=0.4
                            nota2*=0.6
                            var resul=nota1+nota2
                            console.log(resul);
                            if (resul>=60){
                                console.log("esta persona aprobó");
                                i["estado"]="cursando";
                                console.log("estas son las rutas que estan disponibles");
                                var grups=[]
                                for (const i of info[0]["grupos"]){
                                    if (i["grupo"].length<33){
                                        console.log("--------");
                                        console.log(i["nombres"]);
                                        console.log(i["ruta"]);
                                        grups.push(i["nombres"])
                                    }
                                }
                                let soccer=true
                                while (soccer==true){
                                    var pregunta2=prompt("ingresa el nombre del grupo que tiene la ruta que deseas:")
                                    if (grups.includes(pregunta2)){
                                        soccer=false
                                    }
                                    else{
                                        console.log("este grupo no existe (o escribe bien el nombre)");
                                    }
                                }
                                for (const i of info[0]["grupos"]){
                                    if (pregunta2==i["nombres"]){
                                        i["grupo"].push(archivo)
                                    }
                                }
                                console.log("se han aplicado los cambios");
                            }
                        }
                        if (resul<60) {
                            console.log("esta persona no aprobó");
                        }
                        var sol = prompt("quieres hacer otro cambio (si)\n"+
                                         "o presiona enter para volver al menú")
                        if (sol!="si") {
                            way=false
                        }
                    }
                    for (let i=info[0]["ingreso"].length-1; i >= 0; i--){
                        if (info[0]["ingreso"][i]["estado"]=="cursando"){
                            info[0]["ingreso"].splice(i,1)
                        }
                    }
                }
            }
            else if (opc1==4){
                console.log("");
                console.log(":::::::::: CREAR RUTAS ACADEMICAS CON LOS MODULOS ::::::::::::::");
                let yo=true;
                while (yo==true){
                    var rutas=[];
                    var xd = 0;
                    for (const i of info[0]["grupos"]){
                        for (let z = 0;z<= i["ruta"].length; z++){
                            xd=z;
                            rutas.push(i["ruta"]);
                        }
                    }
                    if (xd<12) {
                        let ace =true;
                        while (ace==true){
                            var ruta =prompt("ingresa el nombre de la nueva ruta")
                            if (!rutas.includes(ruta)){
                                ace=false
                            }
                            else {
                                console.log("este nombre no está disponible\ningresa uno valido");
                            }
                        }
                        for (let i=rutas.length; i>=0; i--) {
                            rutas.pop(i)
                        }
                        let uno = true;
                        while (uno==true) {
                            console.log("escoje una opcion para programacin formal");
                            let modulo1 = prompt("1.Java  2.JavaScript  3.C#)");
                            if (modulo1==1) {
                                var num1="Java";
                                uno=false
                            }
                            else if(modulo1==2){
                                num1="JavaScrip"
                                uno=false
                            }
                            else if (modulo1==3){
                                num1="C#"
                                uno=false
                            }
                        }
                        let dos = true;
                        while (dos==true) {
                            console.log("escoje el modulo principal para bases de datos");
                            let modulo21 = prompt("1.Mysql  2.MongoDB  3.PostGresql)");
                            if (modulo21==1) {
                                var num2="Mysql";
                                dos=false
                            }
                            else if(modulo21==2){
                                num2="MongoDB"
                                dos=false
                            }
                            else if (modulo21==3){
                                num2="PostGresql"
                                dos=false
                            }
                        }
                        let tres = true;
                        while (tres==true) {
                            console.log("escoje el modulo secundario para bases de datos");
                            let modulo22 = prompt();
                            if (modulo22==1) {
                                var num3="Mysql";
                                tres=false;
                            }
                            else if(modulo22==2){
                                num3="MongoDB";
                                tres=false;
                            }
                            else if (modulo22==3){
                                num3="PostGresql";
                                tres=false;
                            }
                        }
                        let cuatro = true;
                        while (cuatro==true) {
                            console.log("escoje una opcion para programación formal");
                            let modulo31 = prompt("1.NetCore  2.Spring Boot  3.NodeJS  4.Expres");
                            if (modulo31==1) {
                                var num4="NetCore";
                                cuatro=false;
                            }
                            else if(modulo31==2){
                                num4="Spring Boot";
                                cuatro=false;
                            }
                            else if (modulo31==3){
                                num4="NodeJS";
                                cuatro=false;
                            }
                            else if (modulo31==4){
                                num4="Expres";
                                cuatro=false;
                            }
                        }
                        let cinco = true;
                        while (cinco==true) {
                            console.log("escoje una opcion para programación formal");
                            let modulo32 = prompt();
                            if (modulo32==1) {
                                var num5="NetCore";
                                cinco=false;
                            }
                            else if(modulo32==2){
                                num5="Spring Boot";
                                cinco=false;
                            }
                            else if (modulo32==3){
                                num5="NodeJS";
                                cinco=false;
                            }
                            else if (modulo32==4){
                                num5="Expres";
                                cinco=false;
                            }
                        }
                        var listasalones=[]//se ingresaran los salones de entrenamiento en la lista
                        for (const i of info[0]["grupos"]){
                            listasalones.push(i["salon de entrenamiento"]);
                        }
                        var salon1=0;
                        var salon2=0;
                        var salon3=0;
                        for (let m=0; m<listasalones.length; m++){
                            if (listasalones[m]=="aula1") {
                                salon1+=1
                            }
                            else if (listasalones[m]=="aula2") {
                                salon2+=1
                            }
                            else if (listasalones[m]=="aula3") {
                                salon3+=1
                            }
                        }
                        var listaaula=[];
                        if (salon1<4){
                            console.log("aula1");
                            listaaula.push("aula1")
                        }
                        if (salon2<4){
                            console.log("aula2");
                            listaaula.push("aula2")
                        }
                        if (salon3<4){
                            console.log("aula3");
                            listaaula.push("aula3")
                        }
                        let yuju = true;
                        while (yuju==true) {
                            var escoje = prompt("escoje un salon de entranamiento de los que acabo de mostrar")
                            if (listaaula.includes(escoje)){
                                yuju=false
                            }
                            else{
                                console.log("esta aula no esta disponible o lo escribiste mal");
                            }
                        }
                        var fechaI=prompt("ingresa la fecha de INICIO DD-MM-AA")
                        var fechaF=prompt("ingresa la fecha de FINALIZACIÓN DD-MM-AA")
                        var nuevonombre=prompt("ingresa el nombre del nuevo grupo")
                        info[0]["grupos"].push({"ruta":ruta, "modulos":{"fundamentos de programacion": ["introduccion a la algoritmia", "PSeint", "Python"],
                                                                             "programacion web": ["HTML", "CSS", "booststrap"],
                                                                             "programacion formal":num1,
                                                                             "bases de datos":[num2,num3],
                                                                             "backend":[num4,num5]}, "nombres":nuevonombre,"fecha de inicio":fechaI,"fecha de finalizacion":fechaF,"salon de entrenamiento":escoje, "grupo":[]})//agregara todo esos datos guardandolos en el json y asi mismo finalizando la creacion de la nueva ruta de entrenamiento.
                        var cambio=prompt("SE HA CREADO LA RUTA CON EXITO\n"+//le preguntara al coordinador si desea crear un anueva ruta
                                    "crear otra ruta: (si)\n"+
                                    "volver al menu: preciona enter\n")
                        if (cambio!="si"){//si la respuesta es difernete de si, se rompera el bucle y volvera al menu de coordinado
                            yo=false}
                    }
                    else{
                        console.log("ya se alcanzó el maximo de rutas que se pueden crear");
                        yo=false
                    }
                }
            }
            else if (opc1==9){
                ver = false
            }
        }
    }
    else if (opc==5){
        bool = false
    }
}